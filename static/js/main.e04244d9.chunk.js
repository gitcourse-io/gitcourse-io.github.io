(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,n){},303:function(e,t,n){e.exports=n(917)},308:function(e,t,n){},887:function(e,t){},917:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=(n(308),n(13)),s=n(14),l=n(27),u=n(22),p=n(26),d=(n(196),n(61)),f=(n(197),n(29)),m=n(925),h=n(924),g=(n(310),n(60)),b=(n(311),n(35)),v=(n(138),n(84)),y=(n(918),n(132)),j=(n(139),n(18)),O=(n(919),n(133)),E=n(923),w=n(20),k=(d.a.Header,d.a.Content,d.a.Footer,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{padding:50}},a.a.createElement(g.a,{gutter:16},a.a.createElement(b.a,{span:18},a.a.createElement(O.a,{style:{marginBottom:30}},a.a.createElement("h1",null,this.props.store.course.title),this.props.store.course.description),a.a.createElement(O.a,{title:"\u8bfe\u7a0b\u5217\u8868",style:{marginBottom:30}},a.a.createElement(y.a,{itemLayout:"horizontal"},this.props.store.course.scenarios.map(function(t){return a.a.createElement(y.a.Item,{key:t},a.a.createElement(y.a.Item.Meta,{avatar:a.a.createElement(j.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a",style:{fontSize:32}}),title:a.a.createElement("a",{href:"https://ant.design"},t.title),description:"\u5171 "+t.steps.length+" \u4e2a\u6b65\u9aa4"}),a.a.createElement(E.a,{to:"".concat(Object(w.c)(t))+window.location.hash},a.a.createElement(v.a,{type:"primary",onClick:e.props.store.setCurrentScenario(t)},"\u5f00\u59cb\u5b66\u4e60")))})))),a.a.createElement(b.a,{span:6},a.a.createElement(O.a,null,a.a.createElement("a",{class:"github-button",href:this.props.store.repo.substr(0,this.props.store.repo.length-4),"data-size":"large","data-show-count":"true","aria-label":"Star git/git on GitHub"},"Star")))))}}]),t}(r.Component)),S=Object(f.b)("store")(Object(f.c)(k)),x=n(127),C=n(289),T=n.n(C),D=n(290),z=n.n(D),I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(z.a,{className:"bash"},this.props.value)}}]),t}(a.a.Component),M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={source:"123"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.scenario;return a.a.createElement("div",{style:{padding:20,height:"calc(100% - 40px)",overflow:"auto"}},a.a.createElement(T.a,{source:this.props.step.content,renderers:{inlineCode:I,code:I}}),a.a.createElement("div",{style:{height:40}},0!=this.props.store.stepIndex&&a.a.createElement(v.a,{type:"default",onClick:function(){e.props.store.prevStep()}},a.a.createElement(j.a,{type:"left"}),"\u4e0a\u4e00\u6b65"),this.props.store.stepIndex!=t.steps.length-1&&a.a.createElement(v.a,{type:"primary",style:{float:"right"},onClick:function(){e.props.store.nextStep()}},"\u4e0b\u4e00\u6b65",a.a.createElement(j.a,{type:"right"})),this.props.store.stepIndex==t.steps.length-1&&a.a.createElement(v.a,{type:"primary",style:{float:"right"},onClick:function(){}},"\u8fd4\u56de\u76ee\u5f55",a.a.createElement(j.a,{type:"book"}))))}}]),t}(r.Component),A=Object(f.b)("store")(Object(f.c)(M)),B=(n(658),n(94)),R=n(128);B.Terminal.applyAddon(R);var F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).resize=function(){},n.dom=a.a.createRef(),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.scenario.terminals[0].terminal.open(this.dom),this.props.scenario.terminals[0].terminal.fit()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{ref:function(t){return e.dom=t},style:{width:"100%",height:"100%"}})}}]),t}(a.a.Component),G=Object(f.b)("store")(F),H=n(59),N=n(291),P=n(292),J=n.n(P),V={name:"react-treebeard",toggled:!0,children:[{name:"example",children:[{name:"app.js"},{name:"data.js"},{name:"index.html"},{name:"styles.js"},{name:"webpack.config.js"}]},{name:"node_modules",loading:!0,children:[]},{name:"src",children:[{name:"components",children:[{name:"decorators.js"},{name:"treebeard.js"}]},{name:"index.js"}]},{name:"themes",children:[{name:"animations.js"},{name:"default.js"}]},{name:"Gulpfile.js"},{name:"index.js"},{name:"package.json"}]},L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n.onToggle=n.onToggle.bind(Object(H.a)(Object(H.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onToggle",value:function(e,t){this.state.cursor&&(this.state.cursor.active=!1),e.active=!0,e.children&&(e.toggled=t),this.setState({cursor:e})}},{key:"editorDidMount",value:function(e,t){console.log("editorDidMount",e),e.focus()}},{key:"onChange",value:function(e,t){console.log("onChange",e,t)}},{key:"render",value:function(){return a.a.createElement(x.a,{split:"vertical",minSize:50,defaultSize:200,style:{position:"relative"}},a.a.createElement("div",{style:{background:"#21252B",height:"100%",paddingLeft:5}},a.a.createElement(N.Treebeard,{data:V,onToggle:this.onToggle})),a.a.createElement(J.a,{width:"100%",height:"100%",language:"javascript",theme:"vs-dark",value:"// code",options:{selectOnLineNumbers:!0},onChange:this.onChange,editorDidMount:this.editorDidMount}))}}]),t}(a.a.Component),q=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=Object(w.f)(this.props.store,this.props.match.url);return a.a.createElement(x.a,{split:"vertical",minSize:50,defaultSize:400,style:{position:"relative"}},a.a.createElement("div",{style:{height:"100%"}},a.a.createElement("div",{style:{height:40,lineHeight:"40px",textAlign:"center",fontSize:24,background:"#3095d2",color:"#fff"}},t.title),a.a.createElement(A,{step:t.steps[this.props.store.stepIndex],scenario:t})),a.a.createElement("div",{style:{height:"100%",background:"#000",overflow:"hidden"}},a.a.createElement("div",{style:{height:40,background:"#333",paddingRight:10,textAlign:"right"}},a.a.createElement(j.a,{type:"code",style:{fontSize:"20px",marginTop:10,marginRight:10,color:"#fff"},onClick:function(){return e.props.store.setView("terminal")}}),a.a.createElement(j.a,{type:"appstore",style:{fontSize:"20px",marginTop:10,marginRight:10,color:"#fff"},onClick:function(){return e.props.store.setView("ide")}}),a.a.createElement(j.a,{type:"desktop",style:{fontSize:"20px",marginTop:10,color:"#fff"},onClick:function(){return e.props.store.setView("ide")}})),"terminal"==this.props.store.view&&a.a.createElement(G,{scenario:t}),"ide"==this.props.store.view&&a.a.createElement(L,null)))}}]),t}(r.Component),W=Object(f.b)("store")(Object(f.c)(q)),$=(d.a.Header,d.a.Content,d.a.Footer,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{style:{background:"#345d86"}},a.a.createElement("div",{style:{fontSize:24,color:"#fff",float:"left"}},a.a.createElement("img",{src:"http://kfcoding.com/static/logo-min.d61eb61d.png",style:{height:64}})," GitCourse")),a.a.createElement(h.a,{exact:!0,path:"/",component:S}),a.a.createElement(h.a,{path:"/course/scenarios/:id",component:W})))}}]),t}(r.Component)),_=Object(f.b)("store")(Object(f.c)($));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(2),Q=n.n(K),U=n(192),X=n(36),Y=n(193),Z=w.g.model("Step",{title:"",text:"",content:""}).volatile(function(e){return{}}).actions(function(e){var t=Object(w.a)(Q.a.mark(function t(){var n;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.d)(e).pfs.readFile(e.text);case 2:n=t.sent,e.content=n.toString();case 4:case"end":return t.stop()}},t,this)}));return{afterCreate:function(){t()},setTitle:function(t){e.title=t},setDescription:function(t){e.description=t},setAuthor:function(t){e.author=t},addScenario:function(t){e.scenarios.push(t)},setScenarioDirs:function(t){e.scenarioDirs=t},getProgress:function(){var t=localStorage.getItem("visitedScenarios");return t?Math.floor(t.length/e.scenarios.length):0}}});B.Terminal.applyAddon(R);var ee=w.g.model("Terminal",{name:"tt"}).volatile(function(e){return{terminal:{}}}).views(function(e){return{get store(){return Object(w.d)(e)}}}).actions(function(e){var t=null,n=null;return{exc:function(t){var r,a=t.split(".");"cpp"===a[a.length-1]?r="g++ "+t+" -o /tmp/out.o && /tmp/out.o\n":"py"===a[a.length-1]?r="python "+t+"\n":alert("\u4e0d\u662f\u5408\u6cd5\u6587\u4ef6"),n.emit("term.input",{id:e.id,input:r})},afterCreate:function(){n=Object(w.b)(e,2).socket,t=new B.Terminal({fontSize:16}),e.terminal=t,t.on("data",function(e){return console.log(e)}),t.on("key",function(e,t){n.emit("data",{host:"HOST1",data:e})}),t.on("resize",function(e){var t=e.cols,r=e.rows;n.emit("terminal-resize",{cols:t,rows:r})})},beforeDestroy:function(){n.emit("term.close",{id:e.id})}}}),te=n(294),ne=n.n(te),re=(n(890),w.g.model("Scenario",{title:"",description:"",steps:w.g.array(Z),terminals:w.g.array(ee)}).volatile(function(e){return{socket:ne.a.connect("//ws.katacoda.com",{transports:["websocket"],timeout:12e4,reconnection:!1,query:"dockerimage=dind&course=docker&id=deploying-first-container&originalPathwayId="})}}).views(function(e){return{}}).actions(function(e){return{afterCreate:function(){e.terminals.push({}),e.socket.on("data",function(t){e.terminals[0].terminal.write(t.data)})},setTitle:function(t){e.title=t},setDescription:function(t){e.description=t}}})),ae=(w.g.model("Group",{title:"",description:"",scenarios:w.g.array(re)}).volatile(function(e){return{scenarioDirs:[]}}).actions(function(e){return{afterCreate:function(){},setTitle:function(t){e.title=t},setDescription:function(t){e.description=t},setAuthor:function(t){e.author=t},addScenario:function(t){e.scenarios.push(t)},setScenarioDirs:function(t){e.scenarioDirs=t},getProgress:function(){var t=localStorage.getItem("visitedScenarios");return t?Math.floor(t.length/e.scenarios.length):0}}}),w.g.model("Course",{title:"",description:"",author:"",scenarios:w.g.array(re)}).volatile(function(e){return{scenarioDirs:[]}}).actions(function(e){return{afterCreate:function(){},setTitle:function(t){e.title=t},setDescription:function(t){e.description=t},setAuthor:function(t){e.author=t},addScenario:function(t){e.scenarios.push(t)},setScenarioDirs:function(t){e.scenarioDirs=t},getProgress:function(){var t=localStorage.getItem("visitedScenarios");return t?Math.floor(t.length/e.scenarios.length):0},setGroups:function(t){e.groups=t}}})),oe=w.g.model("Store",{loading:!0,repo:"",course:w.g.optional(ae,{}),stepIndex:0,view:"terminal"}).volatile(function(e){return{bfs:{},pfs:{}}}).actions(function(e){var t=Object(w.a)(Q.a.mark(function t(n){var r,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Y.b.set("fs",e.bfs),t.next=3,Y.a({dir:".",corsProxy:"https://cors.isomorphic-git.org",url:n,singleBranch:!0,depth:1});case 3:return t.next=5,e.pfs.readFile("course.json");case 5:r=t.sent,a=JSON.parse(r.toString()),e.course=a;case 8:case"end":return t.stop()}},t,this)}));return{afterCreate:Object(w.a)(Q.a.mark(function n(){var r;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=window.location.hash.substr(1),e.repo=r,n.next=4,X(U.configure)({fs:"IndexedDB",options:{}});case 4:return e.bfs=U.BFSRequire("fs"),e.pfs=X(e.bfs),n.next=8,t(r);case 8:case"end":return n.stop()}},n,this)})),setRepo:function(t){e.repo=t},setCurrentScenario:function(t){e.currentScenario=t},setView:function(t){e.view=t},nextStep:function(){e.stepIndex++},prevStep:function(){e.stepIndex--}}}).create();Object(w.e)(oe,function(e){console.dir(JSON.stringify(e))}),i.a.render(a.a.createElement(f.a,{store:oe},a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[303,1,2]]]);
//# sourceMappingURL=main.e04244d9.chunk.js.map